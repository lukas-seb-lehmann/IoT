<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP WebApp</title>
    <style>
    html {
        height: 100%;
    }
    body {
        font-family: Arial, Helvetica, sans-serif;
        max-width: 400px;
        height: 100%;
        margin: auto;
    }
    .light {
        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTAwcHgiIGhlaWdodD0iMTAwcHgiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik00OS45NTgsMjguNjg4Yy05LjI3OCwwLTE2LjgwNCw3LjUyNS0xNi44MDQsMTYuODFjMCwzLjA1NiwwLjg1Nyw1Ljg5OCwyLjI0LDguMzkxDQoJCWM0LjEyNiw3LjQzOCw1LjIyMSwxMS42MTMsNS44OTYsMTUuNjU0YzAuNTY0LDMuMzg3LDEuMzQ0LDQuMTc0LDMuOTAyLDQuMTc0YzEuMDkxLDAsMi44NjksMCw0Ljc2NiwwYzEuOTAxLDAsMy42ODMsMCw0Ljc2NywwDQoJCWMyLjU2MywwLDMuMzQ0LTAuNzg3LDMuOTA3LTQuMTc0YzAuNjc3LTQuMDQzLDEuNzcxLTguMjE5LDUuODk2LTE1LjY1NGMxLjM4OC0yLjQ5MiwyLjI0LTUuMzM0LDIuMjQtOC4zOTENCgkJQzY2Ljc3MSwzNi4yMTIsNTkuMjQ1LDI4LjY4OCw0OS45NTgsMjguNjg4eiIvPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik01NS45NzEsNzQuOTM0SDQzLjk1OGMtMC41LDAtMC45MDMsMC40MDItMC45MDMsMC45djAuNjAyYzAsMC40OTYsMC40MDMsMC45LDAuOTAzLDAuOWgxMi4wMTMNCgkJYzAuNDkzLDAsMC44OTctMC40MDQsMC44OTctMC45di0wLjYwMkM1Ni44Nyw3NS4zMzYsNTYuNDY0LDc0LjkzNCw1NS45NzEsNzQuOTM0eiIvPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik01NS45NzEsNzguNTM3SDQzLjk1OGMtMC41LDAtMC45MDMsMC40LTAuOTAzLDAuOXYwLjYwMmMwLDAuNDk2LDAuNDAzLDAuODk4LDAuOTAzLDAuODk4aDEyLjAxMw0KCQljMC40OTMsMCwwLjg5Ny0wLjQwMiwwLjg5Ny0wLjg5OHYtMC42MDJDNTYuODcsNzguOTM4LDU2LjQ2NCw3OC41MzcsNTUuOTcxLDc4LjUzN3oiLz4NCgk8cGF0aCBmaWxsPSIjRkZFNzVBIiBkPSJNNTUuOTcxLDgyLjE0MUg0My45NThjLTAuNSwwLTAuOTAzLDAuNDAyLTAuOTAzLDAuOXYwLjYwMmMwLDAuNDk4LDAuNDAzLDAuOSwwLjkwMywwLjloMTIuMDEzDQoJCWMwLjQ5MywwLDAuODk3LTAuNDAyLDAuODk3LTAuOXYtMC42MDJDNTYuODcsODIuNTQzLDU2LjQ2NCw4Mi4xNDEsNTUuOTcxLDgyLjE0MXoiLz4NCgk8cGF0aCBmaWxsPSIjRkZFNzVBIiBkPSJNNDUuNDU4LDg1Ljc0NGg5LjAxM2MwLDEuODAxLTIuNDA2LDMuMDAyLTQuNTEzLDMuMDAyQzQ3Ljg2MSw4OC43NDYsNDUuNDU4LDg3LjU0NSw0NS40NTgsODUuNzQ0eiIvPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik02OS4yNjQsMTYuODU0YzEuNTMyLTIuNjgzLTIuNjA1LTUuMDkyLTQuMTUtMi40MTRjLTAuODA5LDEuMzk5LTYuNjYyLDExLjU0MS02LjY2MiwxMS41NDFsNC4xNjIsMi40MDINCgkJYzAsMCw1LjE5OS05LjAxNyw2LjY0Ni0xMS41MThjMC4wMDMtMC4wMDEsMC4wMDMtMC4wMDMsMC4wMDMtMC4wMDNMNjkuMjY0LDE2Ljg1NEw2OS4yNjQsMTYuODU0eiIvPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik03OC42MzMsMjYuMjQ3TDc4LjYzMywyNi4yNDdMNzguNjMsMjYuMjVjLTAuMDA4LDAuMDAxLTAuMDA4LDAuMDAxLTAuMDA4LDAuMDAxDQoJCUM3Ni41MSwyNy40NzIsNjcuNDU2LDMyLjcsNjcuNDU2LDMyLjdsMi4zOTcsNC4xNmMwLDAsOS4wNzYtNS4yMzksMTEuMTg4LTYuNDU4QzgzLjcyNywyOC44NTQsODEuMzE2LDI0LjcxMyw3OC42MzMsMjYuMjQ3eiIvPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik01Mi40NTIsMTEuMDcxYzAsMC43MjksMCwxMi44MTIsMCwxMi44MTJoLTQuODA2YzAsMCwwLTEyLjA4NCwwLTEyLjgxMg0KCQlDNDcuNjQ2LDcuOTczLDUyLjQ1Miw3Ljk3Myw1Mi40NTIsMTEuMDcxeiIvPg0KCTxwYXRoIGZpbGw9IiNGRkU3NUEiIGQ9Ik0zMC43MzcsMTYuODU0Yy0xLjUzMi0yLjY4MywyLjYwNi01LjA5Miw0LjE1Mi0yLjQxNGMwLjgwOCwxLjM5OSw2LjY2MSwxMS41NDEsNi42NjEsMTEuNTQxbC00LjE1OCwyLjQwMg0KCQljMCwwLTUuMjA4LTkuMDE3LTYuNjUyLTExLjUxOGMwLTAuMDAxLDAtMC4wMDMsMC0wLjAwM0wzMC43MzcsMTYuODU0TDMwLjczNywxNi44NTR6Ii8+DQoJPHBhdGggZmlsbD0iI0ZGRTc1QSIgZD0iTTIxLjM3MSwyNi4yNDdMMjEuMzcxLDI2LjI0N3YwLjAwM2MwLjAwNywwLjAwMSwwLjAwNywwLjAwMSwwLjAwNywwLjAwMQ0KCQljMi4xMTYsMS4yMjEsMTEuMTY3LDYuNDQ5LDExLjE2Nyw2LjQ0OWwtMi40MDIsNC4xNmMwLDAtOS4wNzYtNS4yMzktMTEuMTg3LTYuNDU4QzE2LjI3MywyOC44NTQsMTguNjgzLDI0LjcxMywyMS4zNzEsMjYuMjQ3eiIvPg0KPC9nPg0KPC9zdmc+DQo=);
        background-size: contain;
        background-repeat: no-repeat;
        width: 100%;
        height: 149px;
        transition: all .2s;
    }
    
    .light.inactive {
        filter: grayscale(100);
    }
    
    footer {
        color: grey;
    }
    </style>
    <script>
    window.addEventListener("load", function () {
        var btn = document.querySelector(".light");
    
        btn.addEventListener("click", function () {
            if (btn.classList.contains("inactive")) {
                btn.classList.remove("inactive");
                quickAndDirtyAjaxCall("/led/on");
            } else {
                btn.classList.add("inactive");
                quickAndDirtyAjaxCall("/led/off");
            }
    
        })
    
        function quickAndDirtyAjaxCall(url) {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", url, true);
            xmlhttp.send();
        }
    });
    </script>
</head>
<body>
    <h1>Hello IoT WPM</h1>

    <p>Manipulate the LED</p>
    <div class="light inactive"></div>

    <footer>
        <p>This example covers the following:</p>
        <ul>
            <li>Images are embedded via base64 in the stylesheet</li>
            <li>All ressources are stripped, unneccessary whitespace is removed (uglified)</li>
            <li>All script and style resourrces are embedded within the html file</li>
            <li>The final html is wrapped as an c++ char in webapp-index.h</li>
        </ul>
    </footer>
    
</body>
</html>